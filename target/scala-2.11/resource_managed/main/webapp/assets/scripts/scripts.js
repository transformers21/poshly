angular.module("productsApp",["ngAnimate","ngRoute","ngSanitize","ngTouch","ui.bootstrap","ui.bootstrap.tpls","ui.router","ui.select","angulartics","angulartics.google.analytics","config"]).config(["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider",function(a,b,c,d){"use strict";d.hashPrefix(""),c.strictMode(!1),a.state("dashboard",{url:"/dashboard",views:{contentHeader:{templateUrl:"views/partials/partial-header.html"},contentBody:{templateUrl:"views/view-dashboard.html",controller:"DashboardCtrl"}}}).state("product",{url:"/product/:productId",views:{contentHeader:{templateUrl:"views/partials/partial-header.html"},contentSubHeader:{templateUrl:"views/partials/partial-personalize-poshly.html",controller:"personalizeCtrl"},contentBody:{templateUrl:"views/view-product.html",controller:"productCtrl"}}}).state("brand",{url:"/brand/:brandName",views:{contentHeader:{templateUrl:"views/partials/partial-header.html"},contentBody:{templateUrl:"views/view-brand.html",controller:"brandCtrl"}}}),b.otherwise("/dashboard")}]).run(["$rootScope","$log",function(a,b){"use strict";a.showErrorAndGoToDashboard=function(a,c){b.error(a),b.error(c),403===c.status&&window.location.reload(!0)}}]),angular.module("productsApp").controller("DashboardCtrl",["$scope","$rootScope","SearchService","$state","$log",function(a,b,c,d,e){"use strict";function f(a){for(var b={},c=[],d=a.length,e=0,f=0;f<d;f++){var g=a[f].productId;1!==b[g]&&(b[g]=1,c[e++]=a[f])}return c}a.products=[],a.productsPopular=[],a.productsAll=[],a.allProductLists=c.getAllProductLists(),a.addProductsMessage="",a.defaultProductImageURL=c.defaultProductImageURL,a.changeList=function(d){a.chosenList=d,c.getProductIdsByUserIdListName(d).then(function(b){a.productIdsInList=b.data,a.productsInListWithDups=a.products.filter(function(b){return a.productIdsInList.indexOf(b.productId)>-1}),a.productsInList=f(a.productsInListWithDups),a.productsInList.length<=0?a.addProductsMessage="Choose a product from the search bar and add it to this list!":a.addProductsMessage=""},function(a){b.showErrorAndGoToDashboard("Error getting products: ",a)})},void 0===b.products||b.products.length<=0?c.getAllProducts().then(function(c){a.products=c.data,b.products=a.products,a.changeList(a.allProductLists[0].name)},function(a){b.showErrorAndGoToDashboard("Error getting all products: ",a)}):(a.products=b.products,a.changeList(a.allProductLists[0].name)),a.goToProduct=function(){var b=a.products.selected.productId;a.products.selected={},b&&""!==b&&d.go("product",{productId:b})},a.goToProductById=function(a){d.go("product",{productId:a})},a.onOpenClose=function(b){a.doPushDown=b},a.infiniteScroll={},a.infiniteScroll.numToAdd=20,a.infiniteScroll.currentItems=20,a.resetInfScroll=function(){a.infiniteScroll.currentItems=a.infiniteScroll.numToAdd},a.addMoreItems=function(){a.infiniteScroll.currentItems+=a.infiniteScroll.numToAdd}}]),angular.module("productsApp").controller("productCtrl",["$scope","$rootScope","$location","SearchService","$state","$q","$stateParams","$uibModal","$log",function(a,b,c,d,e,f,g,h,i){"use strict";function j(){void 0===b.products||b.products.length<=0?d.getAllProducts().then(function(a){var c=a.data;c.error?b.showErrorAndGoToDashboard("Error getting all products: ",c.error):k(c)},function(a){b.showErrorAndGoToDashboard("Error getting all products: ",a)}):k(b.products)}function k(b){var c=b.filter(function(b){return b.brand===a.product.brand&&b.title===a.product.title}),d={},e={};c.forEach(function(b){d[b.color]||(d[b.color]={color:b.color,defaultProductId:b.productId,defaultImageURL:b.imageUrl}),b.color===a.product.color&&b.size===a.product.size&&(d[b.color].defaultProductId=b.productId,d[b.color].defaultImageURL=b.imageUrl),e[b.size]||(e[b.size]={size:b.size}),b.color===a.product.color&&(e[b.size].currentColorProductId=b.productId)}),a.uniqueColors=Object.keys(d).map(function(a){return d[a]}),a.uniqueSizes=Object.keys(e).map(function(a){return e[a]})}function l(a,c){d.postAnswer(a).then(function(){c.answerComesFromDB=!0,m(c.id)},function(a){b.showErrorAndGoToDashboard("Error saving answer: ",a)})}function m(a){var b=document.getElementById(a);b&&(b.className=b.className.replace(/(?:^|\s)fade-out(?!\S)/g,""),b.offsetWidth,b.classList.add("fade-out"))}function n(b){var c=a.items;a.items=c.map(function(a){return{name:a.name,selected:b.indexOf(a.name)>-1}}),a.inLists=o(a.items)}function o(a){return a.filter(function(a){return a.selected}).length>0}a.productId=g.productId,a.product={},a.productSlow={},a.productImageUrl="",a.productColor="",a.uniqueColors=[],a.uniqueSizes=[],a.orderItem="id",a.maxText=750,a.items=d.getAllProductLists(),a.defaultProductImageURL=d.defaultProductImageURL,function(c){d.getFastPartialProductById(c).then(function(c){var d=c.data;d.error?b.showErrorAndGoToDashboard("Error fetching fast product data: ",d.error):(a.product=c.data,a.productImageUrl=a.product.imageUrl,a.productColor=a.product.color,j(),n(a.product.lists))},function(a){b.showErrorAndGoToDashboard("Error fetching fast product data: ",a)})}(a.productId),function(c){d.getSlowPartialProductById(c).then(function(c){var d=c.data;d.error?b.showErrorAndGoToDashboard("Error fetching slow product data: ",d.error):a.productSlow=c.data},function(a){b.showErrorAndGoToDashboard("Error fetching slow product data: ",a)})}(a.productId),a.changeProductInfoOnHover=function(b,c){a.productImageUrl=b,a.productColor=c},a.saveAnswer=function(a,b){l({id:b.id,restriction:a},b)},a.saveOpenEndedAnswer=function(b){l({id:b.id,restriction:b.myAnswer.substr(0,a.maxText)},b)},a.getResponseTextByRestriction=function(a,b){var c=b.filter(function(b){return b.ontologyRestriction===a}),d="";return c&&c.length>0&&c[0].text&&(d=c[0].text),d},a.goBack=function(){e.go("dashboard")},a.open=function(c){h.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body-lists",windowClass:"products-lists-modal",templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:c,resolve:{items:function(){return a.items}}}).result.then(function(c){for(var e=[],f=0;f<c.length;f++){var g=c[f];g.selected&&e.push(g.name)}var h={productId:a.productId,items:e};d.upsertUserProductList(h).then(function(){n(e)},function(a){b.showErrorAndGoToDashboard("Error saving product list: ",a)})})}}]),angular.module("productsApp").controller("personalizeCtrl",["$scope","SearchService","$log","$state","$rootScope",function(a,b,c,d,e){"use strict";function f(c,d){b.findPersonalizePoshlyQuestions(c,d).then(function(b){b.data.error?e.showErrorAndGoToDashboard("Error fetching next personalized questions: ",b.data.error):a.questionsNext=b.data},function(a){e.showErrorAndGoToDashboard("Error fetching next personalized questions: ",a)})}function g(a){i(),b.postPersonalizeAnswer(a).then(function(){j()},function(a){e.showErrorAndGoToDashboard("Error saving answer: ",a),j()})}function h(c){i(),b.postPersonalizeMultipleAnswer(c).then(function(){a.multipleAnswers=[],j()},function(a){e.showErrorAndGoToDashboard("Error saving answer: ",a),j()})}function i(){var b=document.getElementById("question-container");b&&(b.classList.remove("fade-sideways"),b.offsetWidth,b.classList.add("fade-sideways")),a.canGoBack=!0,++a.questionIndex===a.questions.length&&(a.questions=a.questionsNext,a.questionIndex=0)}function j(){a.questionIndex===a.questions.length-1&&f(1,10)}a.maxText=140,a.showPersonalize=!0,a.questionIndex=0,a.questions=[],a.questionsNext=[],a.multipleAnswers=[],a.canGoBack=!1,e.freshQuestionsInRootScope?a.questions=e.questions:function(c,d){b.findPersonalizePoshlyQuestions(c,d).then(function(b){b.data.error?e.showErrorAndGoToDashboard("Error fetching personalized questions: ",b.data.error):(a.questions=b.data,e.freshQuestionsInRootScope=!0,e.questions=a.questions)},function(a){e.showErrorAndGoToDashboard("Error fetching personalized questions: ",a)})}(0,10),a.saveSingleAnswer=function(a,b){g({id:b.id,restriction:a})},a.addMultiResponse=function(b,c){if("msUnique7674"===c)a.multipleAnswers=[b],a.multipleAnswersHasUnique=!0;else if(a.multipleAnswersHasUnique)a.multipleAnswers=[b],a.multipleAnswersHasUnique=!1;else{var d=a.multipleAnswers.indexOf(b);d>-1?a.multipleAnswers.splice(d,1):a.multipleAnswers.push(b)}},a.saveMultipleAnswer=function(b){h({id:b,restriction:a.multipleAnswers})},a.saveOpenEndedAnswer=function(b){g({id:b.id,restriction:b.myAnswer.substr(0,a.maxText)})},a.goPreviousQuestion=function(){a.canGoBack=!1,a.questionIndex--},a.toggleShowPersonalize=function(){var b=document.getElementById("question-container");b&&b.classList.remove("fade-sideways"),a.showPersonalize=!a.showPersonalize}}]),angular.module("productsApp").controller("brandCtrl",["$scope","$rootScope","$location","SearchService","$state","$q","$stateParams","$uibModal","$log",function(a,b,c,d,f,g,h,i,j){"use strict";a.brandName=h.brandName,a.defaultProductImageURL=d.defaultProductImageURL,void 0===b.products||b.products.length<=0?d.getAllProducts().then(function(c){var d=c.data;d.error?b.showErrorAndGoToDashboard("Error getting all products: ",e):a.products=d.filter(function(b){return b.brand===a.brandName})},function(a){b.showErrorAndGoToDashboard("Error getting all products: ",a)}):a.products=b.products.filter(function(b){return b.brand===a.brandName})}]),angular.module("productsApp").controller("ModalInstanceCtrl",["$uibModalInstance","$scope","items",function(a,b,c){b.items=c,b.ok=function(){a.close(b.items)},b.cancel=function(){a.dismiss("cancel")}}]),angular.module("productsApp").controller("NavigationCtrl",["$scope","$http","$log","ENV",function(a,b,c,d){"use strict";a.redirectHome=function(){b.get(d.apiEndpoint+"v1/authenticate/logout/").then(function(){window.location.reload(!0)},function(a){c.error(a)})}}]),angular.module("productsApp").controller("RequestProductCtrl",["$scope","CommunicationsService","Analytics",function(a,b,c){angular.extend(a,c),a.invalidMessage=!1,a.message="",a.message0="",a.requestFail=!1,a.requestSuccess=!1,a.requestProduct=function(){if(a.invalidMessage=!1,!a.message0)return void(a.invalidMessage=!0);var c="Research Objective:\n "+String(a.message0);b.requestProductV2(c).then(function(b){if(a.message0="",b.error)return a.requestFail=!0,void(a.requestSuccess=!1);a.requestFail=!1,a.requestSuccess=!0})},a.close=function(){a.invalidMessage=!1,a.requestFail=!1,a.requestSuccess=!1,a.message0=""}}]),angular.module("productsApp").controller("GetAdviceCtrl",["$scope","$location","CommunicationsService","Analytics",function(a,b,c,d){angular.extend(a,d),a.invalidMessage=!1,a.message="",a.message0="",a.requestFail=!1,a.requestSuccess=!1,a.getAdvice=function(d){if(a.invalidMessage=!1,!a.message0)return void(a.invalidMessage=!0);var e="Product : "+b.absUrl()+"\n\n"+String(a.message0);c.getAdvice(e,b.path()).then(function(b){if(a.message0="",b.error)return a.requestFail=!0,void(a.requestSuccess=!1);a.requestFail=!1,a.requestSuccess=!0})},a.close=function(){a.invalidMessage=!1,a.requestFail=!1,a.requestSuccess=!1,a.message0=""}}]),angular.module("productsApp").factory("SearchService",["$http","$cacheFactory","$rootScope",function(a,b,c){"use strict";function d(a){for(var c=0;c<a.length;c++)b.get("$http").remove(a[c])}var e={},f=[],g=[];return e.getAllProducts=function(){return a.get("api/v1/products/all/",{cache:!0})},e.postAnswer=function(b){return d(f),a.post("api/v1/products/saveAnswer",b)},e.postPersonalizeAnswer=function(b){return c.freshQuestionsInRootScope=!1,a.post("api/v1/products/saveAnswer",b)},e.postPersonalizeMultipleAnswer=function(b){return c.freshQuestionsInRootScope=!1,a.post("api/v1/products/saveMultipleSelectAnswer",b)},e.getAllProductLists=function(){return[{name:"My Favorite Things",selected:!1},{name:"My Wishlist",selected:!1},{name:"Items to Try or Sample",selected:!1},{name:"Daily Looks",selected:!1},{name:"Special Occasions",selected:!1}]},e.getFastPartialProductById=function(b){var c="api/v1/products/getFastPartialProductById/"+b;return f.push(c),a.get(c,{cache:!0})},e.getSlowPartialProductById=function(b){return a.get("api/v1/products/getSlowPartialProductById/"+b,{cache:!0})},e.upsertUserProductList=function(b){return d(g),a.post("api/v1/products/upsertUserProductList",b)},e.getProductIdsByUserIdListName=function(b){var c="api/v1/products/getProductIdsByUserIdListName/"+b;return g.push(c),a.get(c,{cache:!0})},e.findPersonalizePoshlyQuestions=function(b,c){return a.get("api/v1/products/findPersonalizePoshlyQuestions?skip="+b+"&limit="+c)},e.defaultProductImageURL="https://afefef6413373886bae4-5b5522445f6669185d82e1c80852d23c.ssl.cf2.rackcdn.com/icon-color-large-optimized.png",e}]),angular.module("productsApp").service("Analytics",["$analytics","$state",function(a,b){function c(){var a=b.current.name,c="";switch(a){case"dashboard":c="Home";break;case"browse":c="Canvas";break;case"faq":case"faqHome":c="FAQ"}return c}return{trackEvent:function(b,d){b=b||"Search";var e=c();a.eventTrack(b,{category:d,label:e})}}}]),angular.module("productsApp").service("CommunicationsService",["$http","$q",function(a,b){"use strict";function c(a,b){return{data:{subject:b,content:{text:a}}}}var d={};return d.requestProductV2=function(d){var e=b.defer(),f=JSON.stringify(c(d,"Requested Product"));return a({method:"POST",url:"api/v1/mail/newProductRequest/",withCredentials:!0,processData:!1,headers:{"Content-Type":"application/json"},data:f}).then(function(a){e.resolve(a)},function(){e.resolve({error:!0})}),e.promise},d.getAdvice=function(d,e){var f=b.defer(),g=JSON.stringify(c(d,"Product Consultation : "+e));return a({method:"POST",url:"api/v1/mail/getAdvice/",withCredentials:!0,processData:!1,headers:{"Content-Type":"application/json"},data:g}).then(function(a){f.resolve(a)},function(){f.resolve({error:!0})}),f.promise},d}]),angular.module("productsApp").directive("starRating",function(){"use strict";return{restrict:"A",template:'<ul class="rating"> <li ng-repeat="star in stars" ng-class="star" ng-click="toggle($index)">  <i class="fa fa-star"></i> </li></ul>',scope:{ratingValue:"=",max:"=",onRatingSelected:"&"},link:function(a,b,c){var d=function(){a.stars=[];for(var b=0;b<a.max;b++)a.stars.push({filled:b<a.ratingValue})};a.toggle=function(b){a.ratingValue=b+1,a.onRatingSelected({rating:b+1})},a.$watch("ratingValue",function(){d()})}}}),angular.module("productsApp").directive("avgStarRating",function(){"use strict";return{restrict:"A",template:'<ul class="rating"> <li ng-repeat="n in starArray | limitTo:fullStars" class="filled">  <i class="fa fa-star"></i> </li> <li class="filled"  ng-show = "halfStar" >  <i  class="fa fa-star-half-o"></i> </li> <li ng-repeat="n in starArray | limitTo:emptyStars">  <i class="fa fa-star"></i> </li></ul><small ng-show="roundedAvg"><strong>{{roundedAvg}} out of {{max}} stars</strong></small><small class="italic" ng-show="!roundedAvg"><strong>Not enough data</strong></small>',scope:{ratingCounts:"=",max:"="},link:function(a){a.$watch("ratingCounts",function(){b()});var b=function(){a.halfStar=!1,a.fullStars=0,a.emptyStars=a.max,a.roundedAvg=0,a.totalCount=0,a.starArray=[];for(var b=1;b<=a.max;b++)a.starArray.push(b);a.ratingCounts&&(a.fullStars=Math.floor(1*a.ratingCounts),a.halfStar=a.ratingCounts-a.fullStars>=.25&&a.ratingCounts-a.fullStars<.75,a.emptyStars=a.max-a.fullStars-Number(a.halfStar),a.roundedAvg=a.ratingCounts.toFixed(1))}}}}),angular.module("productsApp").directive("fallbackSrc",function(){"use strict";return{link:function(a,b,c){b.bind("error",function(){angular.element(this).attr("src",c.fallbackSrc)})}}}),angular.module("productsApp").directive("peopleLikeMeStarRating",function(){"use strict";return{restrict:"A",template:'<ul class="rating"> <li ng-repeat="n in starArray | limitTo:fullStars" class="filled">  <i class="fa fa-star"></i> </li> <li class="filled"  ng-show = "halfStar" >  <i  class="fa fa-star-half-o"></i> </li> <li ng-repeat="n in starArray | limitTo:emptyStars">  <i class="fa fa-star"></i> </li></ul><small ng-show="roundedAvg"><strong>{{roundedAvg}} out of {{max}} stars</strong></small><small class="italic" ng-show="!roundedAvg"><strong>Not enough data</strong></small>',scope:{ratingSimilarCounts:"=",max:"="},link:function(a){a.$watch("ratingSimilarCounts",function(){b()});var b=function(){a.halfStar=!1,a.fullStars=0,a.emptyStars=a.max,a.roundedAvg=0,a.totalCount=0,a.starArray=[];for(var b=1;b<=a.max;b++)a.starArray.push(b);a.ratingSimilarCounts&&(a.fullStars=Math.floor(1*a.ratingSimilarCounts),a.halfStar=a.ratingSimilarCounts-a.fullStars>=.25&&a.ratingSimilarCounts-a.fullStars<.75,a.emptyStars=a.max-a.fullStars-Number(a.halfStar),a.roundedAvg=a.ratingSimilarCounts.toFixed(1))}}}}),angular.module("productsApp").directive("userReviews",function(){return{restrict:"A",templateUrl:"views/partials/partial-user-reviews.html",scope:{openEndedResponses:"="},link:function(a,b,c){a.startIndex=0,a.morePrevMessages=!1,a.moreMessages=!1,a.messagesToDisplay=[],a.$watch("openEndedResponses",function(a,b){d()});var d=function(){a.openEndedResponses&&(a.moreMessages=a.startIndex+3<a.openEndedResponses.length,a.morePrevMessages=a.startIndex>0,a.messagesToDisplay=a.openEndedResponses.slice(a.startIndex,a.startIndex+3))};a.displayPrev3Reviews=function(){a.startIndex-=3,d()},a.displayNext3Reviews=function(){a.startIndex+=3,d()}}}}),angular.module("productsApp").directive("usersLikeMeReviews",function(){"use strict";return{restrict:"A",templateUrl:"views/partials/partial-user-reviews.html",scope:{openEndedLikeMeResponses:"="},link:function(a){a.startIndex=0,a.morePrevMessages=!1,a.moreMessages=!1,a.messagesToDisplay=[],a.$watch("openEndedLikeMeResponses",function(){b()});var b=function(){a.openEndedLikeMeResponses&&(a.moreMessages=a.startIndex+3<a.openEndedLikeMeResponses.length,a.morePrevMessages=a.startIndex>0,a.messagesToDisplay=a.openEndedLikeMeResponses.slice(a.startIndex,a.startIndex+3))};a.displayPrev3Reviews=function(){a.startIndex-=3,b()},a.displayNext3Reviews=function(){a.startIndex+=3,b()}}}}),angular.module("productsApp").directive("infiniteScroll",["$rootScope","$window","$timeout",function(a,b,c){"use strict";return{link:function(d,e,f){var g,h,i,j;return b=angular.element(b),e.css("overflow-y","auto"),e.css("overflow-x","hidden"),e.css("height","inherit"),i=0,null!==f.infiniteScrollDistance&&d.$watch(f.infiniteScrollDistance,function(a){return i=parseInt(a,10)}),j=!0,g=!1,null!==f.infiniteScrollDisabled&&d.$watch(f.infiniteScrollDisabled,function(a){if((j=!a)&&g)return g=!1,h()}),a.$on("refreshStart",function(){e.animate({scrollTop:"0"})}),h=function(){var b,c,h,k,l;return b=$(e.children()[0]),c=e.offset().top+e.height(),l=b.offset().top+b.height(),h=l-c,k=h<=e.height()*i,k&&j?a.$$phase?d.$eval(f.infiniteScroll):d.$apply(f.infiniteScroll):k?g=!0:void 0},e.on("scroll",h),d.$on("$destroy",function(){return b.off("scroll",h)}),c(function(){return f.infiniteScrollImmediateCheck?d.$eval(f.infiniteScrollImmediateCheck)?h():void 0:h()},0)}}}]),angular.module("productsApp").filter("inArray",function(){return function(a,b){if(b)return a.filter(function(a){return b.indexOf(a.productId)>-1})}}),angular.module("productsApp").filter("propsFilter",function(){"use strict";return function(a,b){function c(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return e[a]||a})}for(var d=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹÐ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],e={},f=0;f<d.length;f++)for(var g=d[f].letters,h=0;h<g.length;h++)e[g[h]]=d[f].base;var i=[],j=b&&b.title&&b.title.length>2,k=b&&b.text&&b.text.length>2;return(j||k)&&angular.isArray(a)?a.forEach(function(a){for(var d=!1,e=Object.keys(b),f=0;f<e.length;f++){var g=e[f],h=c(b[g].toLowerCase());if(-1!==c(a[g].toString().toLowerCase()).indexOf(h)){d=!0;break}}d&&i.push(a)}):i=a,i}}),angular.module("productsApp").filter("unique",function(){return function(a,b){var c=[],d=[];return angular.forEach(a,function(a){var e=a[b];-1===d.indexOf(e)&&(d.push(e),c.push(a))}),c}});